Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EF.Carrinho.Infra.Data.CarrinhoDbContext.Commit() in C:\dev\fiap\easy-food\src\Services\EF.Carrinho.Infra\Data\CarrinhoDbContext.cs:line 22
   at EF.Carrinho.Application.Services.CarrinhoAppService.PersistirDados() in C:\dev\fiap\easy-food\src\Services\EF.Carrinho.Application\Services\CarrinhoAppService.cs:line 107
   at EF.Carrinho.Application.Services.CarrinhoAppService.AdicionarItemCarrinho(AdicionarItemDto itemDto) in C:\dev\fiap\easy-food\src\Services\EF.Carrinho.Application\Services\CarrinhoAppService.cs:line 50
   at EF.Api.Controllers.Carrinho.CarrinhoController.AdicionarItem(AdicionarItemDto itemDto) in C:\dev\fiap\easy-food\src\Presentation\EF.Api\Controllers\Carrinho\CarrinhoController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at EF.Api.Extensions.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\dev\fiap\easy-food\src\Presentation\EF.Api\Extensions\ExceptionMiddleware.cs:line 20
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)

HEADERS
=======
Connection: keep-alive
Host: localhost:5002
User-Agent: Apache-HttpClient/4.5.14 (Java/17.0.9)
Accept-Encoding: br,deflate,gzip,x-gzip
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiMzBmZGUxZi1kMTA5LTRjNWYtYjg2NS03YmJkZTljNTU2ZmUiLCJlbWFpbCI6InBlZHJvLmJhcmFvLmRldkBnbWFpbC5jb20iLCJqdGkiOiJlYjdhNGM2My0zYjMzLTQ3YzItODRjYi02ZmEwNzk3YzRlY2MiLCJuYmYiOjE3MDI5ODEyNjgsImlhdCI6MTcwMjk4MTI2OCwiY2FycmluaG9faWQiOiJmNDUyYzA4NC1iZDRhLTQyYjUtYmVkZS1lZWI4Mzg4ZGI4ZDIiLCJleHAiOjE3MDI5ODg0NjgsImlzcyI6IkVhc3lGb29kIiwiYXVkIjoibG9jYWxob3N0OjUwMDIifQ.pKjLU84FdfJ-nRkMij6EmdDsgTmGdbr4iApkfKUcXyU
Content-Type: application/json
Cookie: .AspNetCore.Identity.Application=CfDJ8OiLkACF4FpJpmrePH9sWkh-vYC2H4v8S0ww3Qau6OTKUylAEBYipDGWscQ21UgT2qTKnMsuHYRLsGwCmNK2X8ZRR4QLWYWONY8fkrAx_IoQ20dev32P4pSck2anoJ8EIEl1ceG4ILfgIFScBdjntpFA1cNdgtNVA32w3b56I0gKNz_jK2kk9iJvUmB4R6CkZKXeUIPMMHXQTxrPsTuDZU-wRzsIdQcGqJ3QFZ56cTDq8cgRvyhT9Xgbm2Xs-15csPnDC6Rs-mLL3wUQ73gXvEaX6WF1I8RKaGPIvDKyAZaWIIc3-n_PPYa73ORnRnffIz1yfrx8NGVNhqQduO2VewmCxQZsLIHG45CBYpcS0KzF-o7LUQu-PlSoJrYpCx3NEpp5SxvtdqWB4Ig5acta4ls060dbefJA3SCf9tESRYyerCDpiTONGB_UOso0iBVKoXmM9rmyr0MJAfVKuIH3tXQdoVVvR6SVp4xkOJt-6wcdV28wl9U-dLy4I3E7mik8CQkWU17kvEdMvSWWv6chRx24Cc6VCdXQGiHN2IBxZHXrnwMCVtib71rtTAXOGnkTeqaJa5MJSzbX2B-__EOPiWsD4twSM9ZSS9zKFR7pH-b1ZOPjfxIWqTEj0fDPwXM-YFA83m7QJClcy9nGeTxcafbQ4W5AlXs6maIkMSmU5pQtHkeLbtjv6jeNjg4Lnk6WjcwzdiT2-yeYy1kBYdVN4N66u9xcNJZhUb8HW6mD84vdFN1aR3KwhARfNUZV2ce72g
Content-Length: 76
