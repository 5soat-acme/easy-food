Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EF.Carrinho.Infra.Data.CarrinhoDbContext.Commit() in C:\dev\fiap\easy-food\src\Services\EF.Carrinho.Infra\Data\CarrinhoDbContext.cs:line 21
   at EF.Carrinho.Application.Services.CarrinhoAppService.PersistirDados() in C:\dev\fiap\easy-food\src\Services\EF.Carrinho.Application\Services\CarrinhoAppService.cs:line 96
   at EF.Carrinho.Application.Services.CarrinhoAppService.AdicionarItemCarrinho(AdicionarItemDto itemDto) in C:\dev\fiap\easy-food\src\Services\EF.Carrinho.Application\Services\CarrinhoAppService.cs:line 50
   at EF.Api.Controllers.Carrinho.CarrinhoController.AdicionarItem(AdicionarItemDto itemDto) in C:\dev\fiap\easy-food\src\Presentation\EF.Api\Controllers\Carrinho\CarrinhoController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at EF.Api.Extensions.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\dev\fiap\easy-food\src\Presentation\EF.Api\Extensions\ExceptionMiddleware.cs:line 20
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)

HEADERS
=======
Connection: keep-alive
Host: localhost:5002
User-Agent: Apache-HttpClient/4.5.14 (Java/17.0.9)
Accept-Encoding: br,deflate,gzip,x-gzip
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI4OGQxNzQ1OS1lM2E0LTQ4MDgtOTM4Yi03MmMyNTQ3NzMyMGIiLCJlbWFpbCI6InBlZHJvLmJhcmFvLmRldkBnbWFpbC5jb20iLCJqdGkiOiI3YzFmZmE3My04NjgzLTQ0NjYtOWE0Mi01MTA0YjY1ODIwMjkiLCJuYmYiOjE3MDI4MjEwOTMsImlhdCI6MTcwMjgyMTA5MywiY2FycmluaG9faWQiOiI0ODk2ODljOS1mZjRmLTRlYzMtYmEwYS1kZDg2ODljNTgxMjQiLCJleHAiOjE3MDI4MjgyOTMsImlzcyI6IkVhc3lGb29kIiwiYXVkIjoibG9jYWxob3N0OjUwMDIifQ.hApP_7jTR2XnKSmfsj9rBC3GIei5AiSPrepB0tC0Ic8
Content-Type: application/json
Cookie: .AspNetCore.Identity.Application=CfDJ8OiLkACF4FpJpmrePH9sWkjqe8UDtchQXPo5L-uWAPcCbntZU2BcBZMEP8zbFlLSih8v_pDDmEKqfkFFmUjiLPd4zCCUc1oVTq1OurFnimUqQvx-O8hpiQUIQHpgDTzm1TLw44-HShkxsxJAUUEUmTSoraJwexRpJdnO-PfBbasX2Jp79OVudpYxXzM8AfOBUSoMQvcOtbI5UYZJwWNnAen20rn9y_foEM8_jjWsoWvqnHxPGBY3uCs6QYY1Aq49sHQgPVvT6BuvqFXsXzu1MMgvnqFOXm_wsLfxnXuGfwDo2OQ5AAmuKVg6AzyX8da9Mon9TYxTMvIf0nxTzj_JxVRl_0u9dlZ3nSwz3EZJMwPmrG3SESfFYGZFxqUTpVpWkh4XhYGlqFBzAeUrMiVLlfQ_aU5pwKloJz2OHvvvOQ50pG9rX3p334h1yA38zqJrlGg_IkwHVcBKD5QNFbp4TAq1FKDoJ5acvVigG_kAF_vI-X-qhXVumLLtu6qyprfuBRsKwyl8Wj-QGEPD6Egp3dI2nIMaKAVPsuuRTRagTF-qa5jxIOm55oyobXESiGhlgaUx1Cq1jyDm2i5YePLCaXa4vVgGNC4qN6wkP270ZuQJDXZF51O4zMaqeG5EFQd2P5k-r_Y1Mz-nNr7yJhvwHoje2bNBbq5-kZLucUXRfNj8PMs42Sa-L6hAgarXOgOAvcMhirpsyKlcn7NiWnC2iA_xwSM0M3a1u1EgyEV07lR_kQPCYrIXPFFnNDvY6mm7bA
Content-Length: 76
